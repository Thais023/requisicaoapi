
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaçoes com APIs|Create com POST</title>
</head>
<body>

    <header>
        <ul id="navbar">
            <li> <a href="./">Home</a></li>
            <li><a href="./read-com-get.html">READ</a></li>
            <li> <a href="./delete-com-delete.html">DELETE</a></li>
            <li> <a href="./update-com-put-.html">UPDATE</a></li>
            <li> <a href="./update-com-put-.html">CREATE</a></li>
        </ul>
        <h1 id="tituloCreate"> Create com POST</h1>
    </header>
        <form  id="formulario" action="" method="post">
            <label for="id:">ID</label>
            <input type="text" id = "id" disabled>

            <label for="descricao:">Descrição</label>
            <input type="text" id = "descricao">

            <label for="preco:">Preço</label>
            <input type="text" id = "preco">

            <button type ="button" id="btCadastrar">Cadastrar</button>

        </form>
    <div id = "listaProdutos">

    </div>
    <script type="module" src = "./assets/scripts/create-com-post.js"></script>

    <script src="./assets/scripts/estilos.js" ></script>
    <script>
        

        // document.querySelector('#btCadastrar').addEventListener('click', () => {
            
        //     const dados = {
        //         'id': null,
        //         'descricao': document.querySelector('#descricao').value,
        //         'preco': document.querySelector('#preco').value
        //     }

        //     fetch('http://localhost:3002/produtos', {
        //         method :'POST',
        //         headers: {
        //             'Content-type': 'application/json'
        //         },
        //         body: JSON.stringify(dados)
        //     })
        //     .then(resposta => {
        //         if(resposta.ok) {
        //             alert('Produto cadastrado');
        //         }
        //     });


        // });

       
       
        // fetch('http://localhost:3002/produtos',{
        //     method:'GET',
        //     headers:{
        //         'Content-type': 'application/json'
        //     }
        // })     
        //     .then(resposta => resposta.json())
        //     .then(resposta => {

        //         for(let i = 0;i < resposta.length; i++){

        //             const ul = document.createElement('ul');

        //             ul.appendChild(document.createElement('li')).
        //             innerHTML = resposta[i].id;
        //             ul.appendChild(document.createElement('li')).
        //             innerHTML = resposta[i].descricao;
        //             ul.appendChild(document.createElement('li')).
        //             innerHTML = resposta [i].preco;
                

        //             document.querySelector('#listaProdutos').appendChild
        //             (ul);
        //         }
        //         })
               
            
    </script>
        
</body>
</html>